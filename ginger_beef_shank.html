<!DOCTYPE html>
<html lang="en">


  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
	<meta name="Expires" content="Tue, 01 Jun 1999 19:58:02 GMT"> 

    <title>Food Recipies</title>
	<link rel="stylesheet" href="../document/css/bootstrap.min.css"/>
	<link rel="stylesheet" href="../document/css/custom.css"/>
	
	<script src="../document/js/jquery-3.3.1.min.js"></script>
	<script src="../document/js/bootstrap.min.js"></script>
	<script src="../document/js/recipe.js"></script>
<script>
var txt = $.fn.tooltip.Constructor.VERSION;

function duplicateRow(ntemplate,entryType, entryRow ) {
	console.log("entry row " + entryRow);
	i = 0;
	text = '';
	max = 0;
	max = 0+ entryRow.length;
	while (i < max) {
		newTemplate = ntemplate.replace(/#id#/g,  entryType + (i + 1));
		newTemplate = newTemplate.replace(/#content#/g,  entryRow[i]);
		text += newTemplate;
		i++;
	}
	return text;
}

var ingredientList = ["Saab", "Volvo", "BMW"];
var preparationList = ["Saab", "Volvo", "BMW"];
var cIntructionList = ["Saab", "Volvo", "BMW"];

//recipesrc = 'file:///D:/GitHub_repo/document/recipes/ginger_beef_shank.json';
recipesrc = './recipes/ginger_beef_shank.json';

/*
$.ajaxSetup({beforeSend: function(xhr){
  if (xhr.overrideMimeType)
  {
    xhr.overrideMimeType("application/json");
  }
}
});
*/



$(document).ready(function() {
				console.log("before " + typeof(ingredientList) + ingredientList.length);



	$.ajax({
		 url:recipesrc,
		 dataType: 'json', // Notice! JSONP <-- P (lowercase)
		 success:function(json){
			 // do stuff with json (in this case an array)
			 //alert("Success --  " + json.recipe.ingredient );
				ingredientList = json.recipe.ingredient;
				preparationList = json.recipe.preparation;
				cIntructionList = json.recipe.cookInstruction;
				text = "";
				text = $("#ingredientList").html();
				text = duplicateRow(text,'ingredientchkbx', ingredientList);
				$("#ingredientList").html(text);
				text = $("#preparationList").html();
				text = duplicateRow(text,'prepchkbx', preparationList);
				$("#preparationList").html(text);
				text = $("#cInstructionList").html();
				text = duplicateRow(text,'instchkbx', cIntructionList);
				$("#cInstructionList").html(text);

			 
		 },
		 error:function(){
			 alert("Error");
		 }      
	});



	
	
	$("#buttonCollapseIngredient1").click(function(){
		var arrow_image = $("#imageCollapseIngredient1").attr('src');
		if (arrow_image.indexOf('up') > 0) {
				arrow_image = "./images/arrow_down.png";
		} else {
				arrow_image = "./images/arrow_up.png";
		
		}
		$("#imageCollapseIngredient1").attr("src", arrow_image);
	});

	$("#buttonCollapsePreparation1").click(function(){
		var arrow_image = $("#imageCollapsePreparation1").attr('src');
		if (arrow_image.indexOf('up') > 0) {
				arrow_image = "./images/arrow_down.png";
		} else {
				arrow_image = "./images/arrow_up.png";
		
		}
		$("#imageCollapsePreparation1").attr("src", arrow_image);
	});

	$("#buttonCollapseCookingInstructions1").click(function(){
		var arrow_image = $("#imageCollapseCookingInstructions1").attr('src');
		if (arrow_image.indexOf('up') > 0) {
				arrow_image = "./images/arrow_down.png";
		} else {
				arrow_image = "./images/arrow_up.png";
		
		}
		$("#imageCollapseCookingInstructions1").attr("src", arrow_image);
	});

});	
</script>


	</head>

  <body>

<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="./index.html">Home</a></li>
    <li class="breadcrumb-item active" aria-current="page">Char Siu</li>
  </ol>
</nav>
    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron">
      <div class="container">
        <h1 class="display-3">Ginger Beef Shank recipe </h1>
        <h5>....</h5>
		</div>
    </div>
    <div class="container">
<img class="rounded float-right" style="width:500px" src="./images/charsiu.jpg">
    </div>
    <div class="container">
<!--		
        <h3>
		 <button class="btn btn-secondary" type="button" data-toggle="collapse" data-target="#collapseExample1" aria-expanded="false" aria-controls="collapseExample1">
    Learn more
  </button>
		</h3>
<div class="collapse" id="collapseExample1">
  <div class="card card-body">
    Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.
  </div>
  
</div>
-->
      <!-- Example row of columns -->
      <div class="row">
        <div class="col-12">
          <h3>
		<button id="buttonCollapseIngredient1" class="btn btn-secondary" type="button" data-toggle="collapse" data-target="#collapseIngredient1" aria-expanded="false" aria-controls="collapseIngredient1">
		Ingredients
		<img id="imageCollapseIngredient1" class="card-img-top" src="./images/arrow_down.png" style="width:20px;height:20px;"> 
		</button>
		</h3>
		  <div class="collapse" id="collapseIngredient1">

			<ul class="list-group" id="ingredientList">
				
				<li class="list-group-item">
					<div class="custom-control custom-checkbox">
						<input type="checkbox" class="custom-control-input" id="#id#">
						<label class="custom-control-label" for="#id#">#content#</label>
					</div>   
				</li>
				
			</ul>
			</div> <!-- collapse -->
        </div> <!-- column -->
	 </div>  <!-- /row-->
      <p>  </p>
      <div class="row">
	  
        <div class="col-12">
          <h3>
		<button id="buttonCollapsePreparation1" class="btn btn-secondary" type="button" data-toggle="collapse" data-target="#collapsePreparation1" aria-expanded="false" aria-controls="collapsePreparation1" id="buttonCollapseIngredient1">
		Preparation
		<img id="imageCollapsePreparation1" class="card-img-top" src="./images/arrow_down.png" style="width:20px;height:20px;"> 
		</button>
		</h3>
		<p>  </p>
		  <div class="collapse" id="collapsePreparation1">
		  
			<ul class="list-group" id="preparationList">	
				<li class="list-group-item">
					<div class="custom-control custom-checkbox">
						<input type="checkbox" class="custom-control-input" id="#id#">
						<label class="custom-control-label" for="#id#">#content#</label>
					</div>   
				</li>

			</ul>
			</div> <!-- collapse -->

        </div><!-- column -->
      <hr>
	 </div>  <!-- /row-->
	 <p>  </p>
      <div class="row">
        <div class="col-12">
          <h3>
		<button id="buttonCollapseCookingInstructions1" class="btn btn-secondary" type="button" data-toggle="collapse" data-target="#collapseCookingInstructions1" aria-expanded="false" aria-controls="collapseCookingInstructions1" id="buttonCollapseCookingInstructions1">
		Cooking Instructions
		<img id="imageCollapseCookingInstructions1" class="card-img-top" src="./images/arrow_down.png" style="width:20px;height:20px;"> 
		</button>
		</h3>

		<p>  </p>
		  <div class="collapse" id="collapseCookingInstructions1">
		  
			<ul class="list-group" id="cInstructionList">	
				<li class="list-group-item">
					<div class="custom-control custom-checkbox">
						<input type="checkbox" class="custom-control-input" id="#id#">
						<label class="custom-control-label" for="#id#">#content#</label>
					</div>   
				</li>

			</ul>
			</div> <!-- collapse -->

		</div><!-- column -->	  
      <hr>
	 </div>  <!-- /row-->



      <footer>
        <p>&copy; Company 2017</p>
      </footer>
    </div> <!-- /container -->
 
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
 <!-- Latest compiled and minified CSS -->
<!--
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
-->
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->

  </body>
</html>
